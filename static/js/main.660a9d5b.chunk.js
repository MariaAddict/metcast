(this.webpackJsonpmetcast=this.webpackJsonpmetcast||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(6),r=a.n(s),o=(a(14),a(9)),i=a(2),l=(a(15),a(16),a(0));var d=function(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsxs)("h1",{className:"header__title",children:["Weather",Object(l.jsx)("br",{}),Object(l.jsx)("span",{className:"header__title-part",children:"forecast"})]})})};a(18);var u=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("p",{className:"footer__discription",children:"C \u041b\u044e\u0431\u043e\u0432\u044c\u044e \u043e\u0442 Mercury Development"})})},b=(a(19),a(20),a(21),a.p+"static/media/Academy-Weather-bg160.1a743710.svg");var h=function(){return Object(l.jsxs)("div",{className:"info",children:[Object(l.jsx)("img",{src:b,alt:"\u041e\u0431\u043b\u0430\u043a\u043e",className:"info__image"}),Object(l.jsx)("p",{className:"info__description",children:"Fill in all the fields and the weather will be displayed"})]})};a(22),a(23);var f=function(e){var t;return t=e.card.temperature>0?"+"+e.card.temperature:e.card.temperature<0?"-"+e.card.temperature:String(e.card.temperature),Object(l.jsxs)("li",{className:"cards__item",style:{backgroundImage:"url(".concat(e.card.iconUrl,")"),backgroundSize:"7days"===e.forecast?"120px 120px":"160px 160px"},children:[Object(l.jsx)("p",{className:"cards__date",children:e.card.date}),Object(l.jsxs)("p",{className:"cards__temperature",children:[t,"\xb0"]})]})};var j=function(e){var t=window.innerWidth;return Object(l.jsxs)("div",{className:"card-list-block",children:["7days"===e.forecast&&Object(l.jsx)("button",{type:"button",className:"card-list-block__button ".concat(e.isLeftButtonEnabled?"":"card-list-block__button_disabled"," card-list-block__button_direction_left"),onClick:e.handleButtonLeft,disabled:!e.isLeftButtonEnabled}),Object(l.jsx)("ul",{className:"cards",children:e.cards.map((function(t,a){return Object(l.jsx)(f,{card:t,forecast:e.forecast},a)})).slice(e.numberOfInitalCard,"day"===e.forecast?1:t<=540?e.cards.length:e.numberOfInitalCard+3)}),"7days"===e.forecast&&Object(l.jsx)("button",{type:"button",className:"card-list-block__button ".concat(e.isRightButtonEnabled?"":"card-list-block__button_disabled"," card-list-block__button_direction_right"),onClick:e.handleButtonRight,disabled:!e.isRightButtonEnabled})]})};var m=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)(""),d=Object(i.a)(o,2),u=d[0],b=d[1],f=c.a.createRef();return Object(l.jsxs)("div",{className:"forecast",children:[Object(l.jsx)("h3",{className:"forecast__title",children:"7days"===e.forecast?"7 Days Forecast":"Forecast for a Date in the Past"}),Object(l.jsxs)("form",{ref:f,className:"forecast__form",name:e.forecast,onKeyPress:function(t){if("Enter"===t.key)if("7days"===e.forecast&&""!==s)e.getWeatherForecastOnSevenDays(s);else if(""!==s&&""!==u){var a=new Date(u),n=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds())/1e3;e.getHistoricalWeatherData(s,n)}},children:[Object(l.jsxs)("select",{className:"forecast__input",required:!0,onChange:function(e){r(e.target.value),console.log(e.target.value)},children:[Object(l.jsx)("option",{hidden:!0,disabled:!0,selected:!0,children:"Select city"}),Object(l.jsx)("option",{className:"forecast__select-item",children:"\u0421\u0430\u043c\u0430\u0440\u0430"}),Object(l.jsx)("option",{className:"forecast__select-item",children:"\u0422\u043e\u043b\u044c\u044f\u0442\u0442\u0438"}),Object(l.jsx)("option",{className:"forecast__select-item",children:"\u0421\u0430\u0440\u0430\u0442\u043e\u0432"}),Object(l.jsx)("option",{className:"forecast__select-item",children:"\u041a\u0430\u0437\u0430\u043d\u044c"}),Object(l.jsx)("option",{className:"forecast__select-item",children:"\u041a\u0440\u0430\u0441\u043d\u043e\u0434\u0430\u0440"})]}),"day"===e.forecast&&Object(l.jsx)("input",{type:"date",className:"forecast__input forecast__input_type_data",placeholder:"Select date",required:!0,onChange:function(e){b(e.target.value),console.log(e.target.value)}})]}),("7days"===e.forecast&&!e.isFormSevenDaysSubmited||"day"===e.forecast&&!e.isFormHistoryDaySubmited)&&Object(l.jsx)(h,{}),("7days"===e.forecast&&e.isFormSevenDaysSubmited||"day"===e.forecast&&e.isFormHistoryDaySubmited)&&Object(l.jsx)(j,{cards:e.cards,forecast:e.forecast,handleButtonRight:e.handleButtonRight,handleButtonLeft:e.handleButtonLeft,numberOfInitalCard:e.numberOfInitalCard,isLeftButtonEnabled:e.isLeftButtonEnabled,isRightButtonEnabled:e.isRightButtonEnabled})]})};var O=function(e){return Object(l.jsxs)("main",{className:"main",children:[Object(l.jsx)(m,{forecast:"7days",cards:e.cardsSevenDays,getWeatherForecastOnSevenDays:e.getWeatherForecastOnSevenDays,handleButtonRight:e.handleButtonRight,handleButtonLeft:e.handleButtonLeft,numberOfInitalCard:e.numberOfInitalCard,isLeftButtonEnabled:e.isLeftButtonEnabled,isRightButtonEnabled:e.isRightButtonEnabled,isFormSevenDaysSubmited:e.isFormSevenDaysSubmited}),Object(l.jsx)(m,{forecast:"day",cards:e.cardDayInPast,getHistoricalWeatherData:e.getHistoricalWeatherData,isFormHistoryDaySubmited:e.isFormHistoryDaySubmited})]})},g=a(7),p=a(8),_="4a12c294eb4c1a76d3ce99b78c9b8b4a",y=function(e){return e.ok?e.json():Promise.reject(e.status)},v=new(function(){function e(t,a){var n=a.headers;Object(g.a)(this,e),this._url=void 0,this._headers=void 0,this._url=t,this._headers=n}return Object(p.a)(e,[{key:"getWeatherForecastOnSevenDays",value:function(e){return fetch("".concat(this._url,"?lat=").concat(e.lat,"&lon=").concat(e.lon,"&units=metric&exclude=current,minutely,hourly,alerts&appid=").concat(_),{method:"GET"}).then(y)}},{key:"getWeatherForecastOnDateinThePast",value:function(e,t){return fetch("".concat(this._url,"/timemachine?lat=").concat(e.lat,"&lon=").concat(e.lon,"&dt=").concat(t,"&units=metric&appid=").concat(_),{method:"GET"}).then(y)}}]),e}())("https://api.openweathermap.org/data/2.5/onecall",{headers:{"Content-Type":"application/json",authorization:_}});var x=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(i.a)(s,2),b=r[0],h=r[1],f=Object(n.useState)(0),j=Object(i.a)(f,2),m=j[0],g=j[1],p=Object(n.useState)(!0),_=Object(i.a)(p,2),y=_[0],x=_[1],S=Object(n.useState)(!1),D=Object(i.a)(S,2),B=D[0],N=D[1],F=Object(n.useState)(!1),C=Object(i.a)(F,2),k=C[0],E=C[1],L=Object(n.useState)(!1),w=Object(i.a)(L,2),W=w[0],R=w[1],T=function(e){var t;switch(e){case"\u0421\u0430\u043c\u0430\u0440\u0430":t={lat:53.195873,lon:50.100193};break;case"\u0422\u043e\u043b\u044c\u044f\u0442\u0442\u0438":t={lat:53.507836,lon:49.420393};break;case"\u0421\u0430\u0440\u0430\u0442\u043e\u0432":t={lat:51.533557,lon:46.034257};break;case"\u041a\u0430\u0437\u0430\u043d\u044c":t={lat:55.796127,lon:49.106405};break;case"\u041a\u0440\u0430\u0441\u043d\u043e\u0434\u0430\u0440":t={lat:45.03547,lon:38.975313};break;default:console.log("\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430")}return t},I={day:"numeric",month:"short",year:"numeric"};function H(e,t,a){return{date:new Date(1e3*e).toLocaleDateString("en-GB",I).toLowerCase(),temperature:Math.round(t),iconUrl:"http://openweathermap.org/img/wn/".concat(a,"@2x.png")}}return Object(n.useEffect)((function(){m===a.length-3&&x(!1),m===a.length-4&&x(!0),1===m&&N(!0),0===m&&N(!1)}),[a.length,m]),Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(d,{}),Object(l.jsx)(O,{cardsSevenDays:a,cardDayInPast:b,getWeatherForecastOnSevenDays:function(e){var t=T(e);E(!1),v.getWeatherForecastOnSevenDays(t).then((function(e){E(!0);var t=e.daily.map((function(e){return H(e.dt,e.temp.day,e.weather[0].icon)}));c(t),g(0),x(!0),N(!1)})).catch((function(e){console.log(e)}))},handleButtonRight:function(){m<a.length-3&&g(m+1)},handleButtonLeft:function(){0!==m&&g(m-1)},numberOfInitalCard:m,isLeftButtonEnabled:B,isRightButtonEnabled:y,getHistoricalWeatherData:function(e,t){var a=T(e);R(!1),v.getWeatherForecastOnDateinThePast(a,t).then((function(e){R(!0);var t=H(e.current.dt,e.current.temp,e.current.weather[0].icon);h([t].concat(Object(o.a)(b))),g(0)})).catch((function(e){console.log(e)}))},isFormSevenDaysSubmited:k,isFormHistoryDaySubmited:W}),Object(l.jsx)(u,{})]})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,25)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root")),S()}],[[24,1,2]]]);
//# sourceMappingURL=main.660a9d5b.chunk.js.map